(()=>{"use strict";(()=>{const e=document.getElementById("from"),t=document.getElementById("to");e.value=0,t.value=0,["input","blur"].forEach((t=>{e.addEventListener(t,(e=>{e.target.value=e.target.value.replace(/[,]/gi,"."),e.target.value=e.target.value.replace(/[^\d.]/gi,"")}))}))})(),document.getElementById("swap").addEventListener("click",(e=>{const t=document.getElementById("from-currency"),n=document.getElementById("to-currency"),c=t.selectedIndex,o=n.selectedIndex;e.preventDefault(),t.options[c].selected=!1,n.options[o].selected=!1,t.options[o].selected=!0,n.options[c].selected=!0})),(async()=>{const e=document.getElementById("from-currency"),t=document.getElementById("to-currency"),n=document.getElementById("from"),c=document.getElementById("to"),o=document.querySelector(".from > .description"),r=document.querySelector(".to > .description"),a=document.getElementById("convert"),l=(e,t)=>{e.textContent=`${((e,t="en")=>({en:{currency:{USD:"American dollar`s",EUR:"Euro",RUB:"Russian ruble`s"}},ru:{currency:{USD:"Американский доллар",EUR:"Евро",RUB:"Российский рубль"}}}[t][e]))("currency","ru")[t]} (${t})`,c.value=0};try{a.addEventListener("click",(async o=>{const r=await(async()=>{const n=e.options[e.selectedIndex].value,c=t.options[t.selectedIndex].value,{data:o}=await((e,t={})=>(t.headers={"Content-type":"application/json"},fetch(e,t).then((e=>e.json())).catch((e=>console.log(e.message)))))(`https://api.freecurrencyapi.com/v1/latest?apikey=fca_live_vUfdCjwuGE6lLvH0viS6MHQEhTOOGxCYB0DMJHPH&base_currency=${n}&currencies=${c}`).then((e=>e));return o[c]})();o.preventDefault(),c.value=+n.value*r,c.value=Math.ceil(100*+c.value)/100})),e.addEventListener("change",(()=>{const t=e.options[e.selectedIndex].value;l(o,t)})),t.addEventListener("change",(()=>{const e=t.options[t.selectedIndex].value;l(r,e)}))}catch(e){console.log(e.message)}})()})();